<md-dialog flex="60">
    <md-toolbar>
        <div class="md-toolbar-tools" layout="row">
            <h3 flex>Edit Repair Form</h3>
            <md-button class="md-icon-button" ng-click="cancel()">
                <ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon>
            </md-button>
        </div>
    </md-toolbar>
    <md-dialog-content>
        <md-tabs class="md-padding" md-dynamic-height md-stretch-tabs="always">
            <md-tab label="Info">
                <form name="editRepairForm" class="md-padding">
                    <div layout="row" flex>
                        <!--<md-input-container class="md-block" flex-gt-xs>-->
                        <!--<label>Company</label>-->
                        <!--<input ng-model="selected.company">-->
                        <!--</md-input-container>-->

                        <md-input-container class="md-block" flex>
                            <label>Enter date</label>
                            <md-datepicker ng-model="selected.date" name="date" md-date-filter="noSundayPredicate" md-open-on-focus required></md-datepicker>
                            <div ng-messages="editRepairForm.date.$error">
                                <div ng-message="required">This is required.</div>
                            </div>
                        </md-input-container>

                        <md-input-container class="md-block" flex flex-gt-sm="35">
                            <label>Time</label>
                            <input type="time" ng-model="selected.date">
                        </md-input-container>
                    </div>

                    <div layout-gt-sm="row">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>First name</label>
                            <input ng-model="selected.firstName" name="firstName" required>
                            <div ng-messages="editRepairForm.firstName.$error">
                                <div ng-message="required">This is required.</div>
                            </div>
                        </md-input-container>

                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Last name</label>
                            <input ng-model="selected.lastName"  name="lastName" required>
                            <div ng-messages="editRepairForm.lastName.$error">
                                <div ng-message="required">This is required.</div>
                            </div>
                        </md-input-container>
                    </div>

                    <md-input-container class="md-block">
                        <label>Address</label>
                        <input vs-google-autocomplete="{ types: ['address'] }" placeholder="" name="address" required
                               ng-model="selected.address">
                        <div ng-messages="editRepairForm.address.$error">
                            <div ng-message="required">This is required.</div>
                        </div>
                    </md-input-container>

                    <div layout-gt-sm="row">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Cell Phone</label>
                            <input type="number" ng-model="selected.phoneCell"  name="phoneCell" required ng-minlength="10" ng-maxlength="10">
                            <div ng-messages="editRepairForm.phoneCell.$error">
                                <div ng-message="required">This is required.</div>
                                <div ng-message="minlength">too short... needs to be 10 digits</div>
                                <div ng-message="maxlength">too long... needs to be 10 digits</div>
                            </div>
                        </md-input-container>
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Email</label>
                            <input type="email" ng-model="selected.email"  name="email" required>
                            <div ng-messages="editRepairForm.email.$error">
                                <div ng-message="required">This is required.</div>
                                <div ng-message="email">This email address is invalid.</div>
                            </div>
                        </md-input-container>
                    </div>

                    <md-input-container class="md-block">
                        <label>Customer Description</label>
                        <textarea ng-model="selected.description" md-maxlength="400" rows="4"
                                  md-select-on-focus name="description" required></textarea>
                        <div ng-messages="editRepairForm.description.$error">
                            <div ng-message="required">This is required.</div>
                        </div>
                    </md-input-container>
                </form>
            </md-tab>
            <md-tab label="Billing">
                <form name="editRepairForm" class="md-padding">
                    <div layout-gt-sm="row">
                        <md-input-container class="md-block" flex="10">
                            <label>Qty.</label>
                            <input ng-model="selected.newPartsPerRepair.quantity">
                        </md-input-container>

                        <md-input-container class="md-block" flex="40">
                            <label>Repair Parts</label>
                            <md-select ng-model="selected.newPartsPerRepair.part">
                                <md-option ng-value="part.name" ng-repeat="part in parts">{{part.name}}</md-option>
                            </md-select>
                        </md-input-container>
                        <md-button class="md-icon-button" ng-click="addPartsToRepair()">
                            <ng-md-icon icon="add" aria-label="Add Parts To Repair"></ng-md-icon>
                        </md-button>
                    </div>
                    <div layout-wrap layout-gt-sm="row" ng-repeat="partsPerRepair in selected.partsPerRepair">
                        <md-input-container class="md-block" flex="10">
                            <label>Qty. {{selected._id}}</label>
                            <input ng-model="partsPerRepair.quantity">
                        </md-input-container>

                        <md-input-container class="md-block" flex="40">
                            <label>Repair Parts {{partsPerRepair._id}}</label>
                            <input ng-model="partsPerRepair.part">
                        </md-input-container>

                        <md-button class="md-icon-button" ng-click="removePartsPerRepair(partsPerRepair)">
                            <ng-md-icon icon="delete" aria-label="Remove Parts From Repair"></ng-md-icon>
                        </md-button>
                    </div>

                    <!--<table class="md-padding md-whiteframe-2dp">-->
                        <!--<thead>-->
                        <!--<tr >-->
                            <!--<th><span>Quantity</span></th>-->
                            <!--<th><span>Item Descritpion</span></th>-->
                        <!--</tr>-->
                        <!--</thead>-->
                        <!--<tbody>-->
                        <!--<tr ng-repeat="partPerRepair in selected.partsPerRepair">-->
                            <!--<td>{{partsPerRepair.quantity}}</td>-->
                            <!--<td>{{partsPerRepair.part}}</td>-->
                            <!--<td>-->
                                <!--<md-button ng-click="removePartsPerRepair()">-->
                                    <!--<ng-md-icon icon="delete" aria-label="Close dialog"></ng-md-icon>-->
                                <!--</md-button>-->
                            <!--</td>-->
                        <!--</tr>-->
                        <!--</tbody>-->
                    <!--</table>-->
                    <div layout-gt-sm="row">
                        <md-input-container class="md-block" flex="40">
                            <label>Number of Workers</label>
                            <input ng-model="selected.numWorkers">
                        </md-input-container>
                        <md-input-container class="md-block" flex="40">
                            <label>Number of Hours</label>
                            <input ng-model="selected.numHours">
                        </md-input-container>
                    </div>
                </form>
            </md-tab>
        </md-tabs>
    </md-dialog-content>
    <md-dialog-actions layout="row">
        <span flex></span>
        <md-button class="md-raised" ng-disabled="editRepairForm.$invalid" ng-click="editRepair()">Save Repair</md-button>
    </md-dialog-actions>
</md-dialog>