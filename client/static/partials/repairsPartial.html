<div>
    <div class="md-padding">
        <h3>New Repair Form</h3>
        <form name="repairForm">

            <div layout-gt-xs="row">
                <md-input-container class="md-block" flex-gt-xs>
                    <label>Company</label>
                    <input ng-model="newRepair.company">
                </md-input-container>

                <md-input-container>
                    <label>Enter date</label>
                    <md-datepicker ng-model="newRepair.date" md-open-on-focus></md-datepicker>
                </md-input-container>
            </div>

            <div layout-gt-sm="row">
                <md-input-container class="md-block" flex-gt-sm>
                    <label>First name</label>
                    <input ng-model="newRepair.firstName">
                </md-input-container>

                <md-input-container class="md-block" flex-gt-sm>
                    <label>Last name</label>
                    <input ng-model="newRepair.lastName">
                </md-input-container>
            </div>

            <md-input-container class="md-block">
                <label>Customer Address</label>
                <input vs-google-autocomplete="{ types: ['address'] }" placeholder="" ng-model="newRepair.address">
            </md-input-container>


            <md-input-container class="md-block">
                <label>Customer Description</label>
                <textarea ng-model="newRepair.description" md-maxlength="200" rows="4" md-select-on-focus></textarea>
            </md-input-container>

            <md-button class="md-raised" ng-click="addRepair()">Add Repair</md-button>

        </form>
    </div>

    <div>
        <h3>Repairs</h3>
        <!-- TODO: find a way to toggle hiding the table -->
        <md-input-container class="md-block">
            <label>Search for Customer</label>
            <input type="text" ng-model="searchText">
        </md-input-container>
        <!-- <md-table-container class="md-padding md-whiteframe-2dp">
            <table md-table>
                <thead md-head>
                    <tr md-row>
                        <th md-column><span>First Name</span></th>
                        <th md-column><span>Last Name</span></th>
                        <th md-column><span>Company</span></th>
                        <th md-column><span>Address</span></th>
                        <th md-column><span>Repair Date</span></th>
                        <th md-column><span>Description</span></th>
                        <th md-column><span>Repair Comments</span></th>
                        <th md-column><span>Actions</span></th>
                    </tr>
                </thead>
                <tbody md-body>
                    <tr md-row ng-repeat="repair in repairs track by $index | fuzzy: searchText">
                        <td md-cell>{{repair.firstName}}</td>
                        <td md-cell>{{repair.lastName}}</td>
                        <td md-cell>{{repair.company}}</td>
                        <td md-cell>{{repair.address}}</td>
                        <td md-cell>{{repair.date}}</td>
                        <td md-cell>{{repair.description}}</td>
                        <td md-cell>{{repair.comments}}</td>
                        <td>
                            <div md-button class="md-raised" ng-click="repair.isEdited = true">Update</div>
                            <div md-button class="md-raised" ng-click="removeRepair()">Delete</div>
                        </td>
                    </tr>

                </tbody>
            </table>
        </md-table-container> -->

    </div>
        <md-card flex ng-repeat="repair in repairs | fuzzy: searchText track by $index">
            <md-card-title>
                <md-card-title-text>
                    <span class="md-headline">{{repair.firstName}} {{repair.lastName}}</span>
                </md-card-title-text>
            </md-card-title>
            <md-card-content>

                <div ng-hide="repair.isEdited">
                    <p>
                        {{repair.company}}
                    </p>
                    <p>
                        {{repair.address}}
                    </p>
                    <p>
                        {{repair.date}}
                    </p>
                    <p>
                        {{repair.description}}
                    </p>
                    <p>
                        {{repair.comments}}
                    </p>

                </div>

                <div ng-show="repair.isEdited">
                    <div layout-gt-xs="row">
                        <md-input-container class="md-block" flex-gt-xs>
                            <label>Company</label>
                            <input ng-model="repair.company">
                        </md-input-container>

                        <md-input-container>
                            <label>Enter date</label>
                            <md-datepicker ng-model="repair.date" md-open-on-focus></md-datepicker>
                        </md-input-container>
                    </div>

                    <div layout-gt-sm="row">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label>First name</label>
                            <input ng-model="repair.firstName">
                        </md-input-container>

                        <md-input-container class="md-block" flex-gt-sm>
                            <label>Last name</label>
                            <input ng-model="repair.lastName">
                        </md-input-container>
                    </div>

                    <md-input-container class="md-block">
                        <label>Customer Address</label>
                        <input vs-google-autocomplete="{ types: ['address'] }" placeholder="" ng-model="repair.address">
                    </md-input-container>


                    <md-input-container class="md-block">
                        <label>Customer Description</label>
                        <textarea ng-model="repair.description" md-maxlength="200" rows="4" md-select-on-focus></textarea>
                    </md-input-container>


                    <md-button class="md-raised" ng-click="repair.isEdited = false">Update Repair</md-button>
                </div>
            </md-card-content>

            <md-card-actions ng-hide="repair.isEdited" layout="row" layout-align="end center">
                <md-button class="md-raised" ng-click="repair.isEdited = true">Update</md-button>
                <md-button class="md-raised" ng-click="removeRepair()">Delete</md-button>
            </md-card-actions>
        </md-card>

    <div>
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA2ij1AVJozmyNYh8IG9tZzTNPD8NqhZZc&libraries=places&callback=initAutocomplete" async defer></script>
    </div>

</div>
